#!/bin/bash

echo "========================================"
echo "   N8N å­¦ä¹ ç¬”è®° - è‡ªåŠ¨ä¸Šä¼ åˆ° GitHub"
echo "========================================"
echo ""

# æç¤ºè¾“å…¥æäº¤ä¿¡æ¯
read -p "è¯·è¾“å…¥ä»Šå¤©å­¦ä¹ çš„å†…å®¹æè¿°ï¼ˆä¾‹å¦‚ï¼šæ·»åŠ æ¡ˆä¾‹002ï¼Œç›´æ¥å›è½¦ä½¿ç”¨é»˜è®¤ï¼‰: " commit_msg

# å¦‚æœæ²¡æœ‰è¾“å…¥ï¼Œä½¿ç”¨é»˜è®¤ä¿¡æ¯
if [ -z "$commit_msg" ]; then
    commit_msg="æ›´æ–°å­¦ä¹ ç¬”è®° $(date +%Y-%m-%d)"
fi

echo ""
echo "[1/4] ğŸ“ æš‚å­˜æ‰€æœ‰æ›´æ”¹..."
git add .

echo ""
echo "[2/4] âœ… æäº¤æ›´æ”¹..."
git commit -m "$commit_msg"

echo ""
echo "[3/4] ğŸŒ è·å–è¿œç¨‹æ›´æ–°..."
git pull origin main

echo ""
echo "[4/4] ğŸš€ æ¨é€åˆ° GitHub..."
git push origin main

echo ""
echo "========================================"
echo "âœ¨ ä¸Šä¼ å®Œæˆï¼ä½ çš„ç¬”è®°å·²ç»ä¿å­˜åˆ° GitHub"
echo "========================================"
echo ""
read -p "æŒ‰ä»»æ„é”®é€€å‡º..."
